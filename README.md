# Recipe Bot

Recipe Bot — это Telegram-бот, который помогает пользователям находить рецепты на основе указанных ингредиентов. Он взаимодействует с API Spoonacular для поиска рецептов и позволяет сохранять понравившиеся рецепты для последующего просмотра. Бот может отправлять ежедневные рекомендации рецептов и отображать список сохранённых рецептов.

## Описание проекта

Этот проект предназначен для автоматизации подбора рецептов на основе ингредиентов, которые укажет пользователь. Основная цель бота — облегчить процесс поиска рецептов, предложить ежедневные рекомендации и дать возможность сохранить понравившиеся рецепты в базу данных для дальнейшего использования.

## Реализуемый функционал

- **Поиск рецептов** по ингредиентам, указанным пользователем.
- **Сохранение рецептов** в базу данных SQLite.
- **Отображение сохранённых рецептов**, которые пользователь может пересматривать позже.
- **Ежедневные рекомендации рецептов** с возможностью просмотра и сохранения.

## Архитектура

Проект построен на основе нескольких функций и классов для обработки команд Telegram и взаимодействия с базой данных.

### Основные компоненты

- **recipe_bot.py** — основной файл для бота, включающий обработку команд и взаимодействие с пользователем.
- **setup_db.py** — скрипт для инициализации базы данных.
- **recipes.db** — база данных SQLite для хранения сохранённых рецептов.

### Основные функции и классы

#### 1. Поиск рецептов
   - `find_recipes(ingredients, num_results=5)`: отправляет запрос к Spoonacular API для получения списка рецептов на основе указанных ингредиентов.

#### 2. Работа с базой данных
   - `save_recipe_to_db(user_id, recipe_id, title, link)`: сохраняет рецепт для пользователя в базе данных.
   - `get_saved_recipes(user_id)`: возвращает список сохранённых рецептов пользователя.

#### 3. Обработчики команд и сообщений
   - `/start`: выводит приветственное сообщение и основные команды.
   - `/saved`: отображает сохранённые рецепты пользователя.
   - `/recommend`: отправляет ежедневную рекомендацию рецепта.
   - `handle_ingredients(update, context)`: обрабатывает сообщения с ингредиентами и выводит список найденных рецептов.

## Установка и запуск
Чтобы запустить мой проект, выполните следующие шаги:
Шаг 1: Клонируйте репозиторий
Если проект находится в удалённом репозитории (например, на GitHub), сначала клонируйте его на ваш локальный компьютер:
git clone git@github.com:marskond/Recipe-bot.git
cd Recipe-bot 
Шаг 2: Установите зависимости
В проекте есть файл requirements.txt, в котором перечислены все зависимости. Установите их с помощью команды:
pip install -r requirements.txt
Шаг 3: Настройте базу данных
Перед первым запуском бота нужно инициализировать базу данных. Выполните команду:
python setup_db.py
Этот скрипт создаст базу данных recipes.db и настроит таблицы для сохранения рецептов. Шаг 4: Запустите бота
Запустите бота, выполнив команду:
python recipe_bot.py
Вы должны увидеть сообщение Bot is running..., означающее, что бот успешно запущен и готов к работе.
Ссылка на мой telegram bot t.me/Helprecipe_bot
Шаг 5: Использование бота
Теперь вы можете взаимодействовать с ботом в Telegram, отправляя команды:
* /start — для получения приветственного сообщения с инструкциями.
* /saved — для просмотра сохранённых рецептов.
* /recommend — для получения ежедневной рекомендации рецепта.
* Отправьте список ингредиентов, разделённых запятыми, чтобы бот нашёл рецепты с этими ингредиентами.
Примечания
* Бот должен оставаться запущенным для обработки сообщений.

### Зависимости

Проект использует следующие библиотеки Python:

- `python-telegram-bot`: для взаимодействия с Telegram API.
- `requests`: для отправки HTTP-запросов к Spoonacular API.
- `sqlite3`: для работы с базой данных.

